# Certificate Revocation Lab - Environment Configuration
# Copy this file to .env and customize values before starting the lab
#
# cp .env.example .env
# vi .env
#

COMPOSE_PROJECT_NAME=cert-revocation-lab

# =============================================================================
# CREDENTIALS - CHANGE THESE FOR YOUR ENVIRONMENT
# =============================================================================

# Admin password for all services (FreeIPA, AWX, PKI)
ADMIN_PASSWORD=CHANGEME

# Database passwords
DB_PASSWORD=CHANGEME

# Directory Server password
DS_PASSWORD=CHANGEME

# PKI passwords
PKI_ADMIN_PASSWORD=CHANGEME
PKI_CLIENT_PKCS12_PASSWORD=CHANGEME
PKI_BACKUP_PASSWORD=CHANGEME
PKI_TOKEN_PASSWORD=CHANGEME

# AWX secret key (generate with: openssl rand -hex 32)
AWX_SECRET_KEY=CHANGEME

# Jupyter token
JUPYTER_TOKEN=CHANGEME

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Container network subnet (change if conflicts with your network)
LAB_SUBNET=172.20.0.0/16
LAB_GATEWAY=172.20.0.1

# Container IP assignments (optional - defaults work for most setups)
# IP_FREEIPA=172.20.0.10
# IP_INTERMEDIATE_CA=172.20.0.11
# IP_ROOT_CA=172.20.0.12
# IP_IOT_CA=172.20.0.13
# IP_DS_ROOT=172.20.0.14
# IP_DS_INTERMEDIATE=172.20.0.15
# IP_DS_IOT=172.20.0.16
# IP_POSTGRES=172.20.0.20
# IP_REDIS=172.20.0.21
# IP_AWX_WEB=172.20.0.22
# IP_AWX_TASK=172.20.0.23
# IP_ZOOKEEPER=172.20.0.30
# IP_KAFKA=172.20.0.31
# IP_EDA=172.20.0.40
# IP_EDR=172.20.0.50
# IP_SIEM=172.20.0.51
# IP_JUPYTER=172.20.0.60
# IP_PROMETHEUS=172.20.0.70
# IP_GRAFANA=172.20.0.71
# IP_PKI_EXPORTER=172.20.0.72

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

LAB_DOMAIN=cert-lab.local
IPA_REALM=CERT-LAB.LOCAL
SECURITY_DOMAIN_NAME=CERT-LAB

# =============================================================================
# PKI CONFIGURATION
# =============================================================================

# Certificate subject DNs
ROOT_CA_SUBJECT=CN=Root CA,O=Cert-Lab,C=US
INTERMEDIATE_CA_SUBJECT=CN=Intermediate CA,O=Cert-Lab,C=US
IOT_CA_SUBJECT=CN=IoT Sub-CA,O=Cert-Lab,C=US
FREEIPA_CA_SUBJECT=CN=FreeIPA CA,O=Cert-Lab,C=US

# Key configuration
CA_KEY_ALGORITHM=SHA512withRSA
CA_KEY_SIZE=4096
CA_KEY_TYPE=rsa

# =============================================================================
# SERVICE VERSIONS (optional - defaults are tested)
# =============================================================================

# IPA_VERSION=fedora-43
# PKI_VERSION=latest
# DS_VERSION=latest
# AWX_EE_VERSION=latest
# EDA_VERSION=v1.0.0
# POSTGRES_VERSION=15
# REDIS_VERSION=7
# KAFKA_VERSION=7.5.0
# ZOOKEEPER_VERSION=7.5.0
# JUPYTER_VERSION=latest
# PROMETHEUS_VERSION=latest
# GRAFANA_VERSION=latest

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================

KAFKA_TOPIC_SECURITY=security-events
KAFKA_CONSUMER_GROUP=eda-security-processor

# =============================================================================
# EDA SSH CONFIGURATION
# =============================================================================
# EDA needs SSH access to the host to run pki-cli.py (since rootless podman
# cannot access rootful PKI containers). Run ./scripts/setup-eda-ssh.sh first.

# Host IP from container perspective (default works for rootless podman)
LAB_HOST_IP=host.containers.internal

# Your username on the lab host
LAB_HOST_USER=

# Path to the lab directory on the host
LAB_ROOT_DIR=
