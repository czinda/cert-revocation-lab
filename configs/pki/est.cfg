# Dogtag PKI EST (Enrollment over Secure Transport) Configuration
# EST subsystem runs alongside the IoT CA and uses it for certificate issuance
#
# This configures EST as a subsystem within the IoT CA instance
# Clients can enroll for certificates via EST protocol (RFC 7030)

[DEFAULT]
# Administrative credentials (same as IoT CA)
pki_admin_email=admin@cert-lab.local
pki_admin_name=admin
pki_admin_password=RedHat123
pki_admin_uid=admin

# Security passwords
pki_backup_password=RedHat123
pki_client_database_password=RedHat123
pki_client_pkcs12_password=RedHat123
pki_token_password=RedHat123

# Directory Server connection (shared with IoT CA)
pki_ds_url=ldap://ds-iot.cert-lab.local:3389
pki_ds_bind_dn=cn=Directory Manager
pki_ds_password=RedHat123

# Security domain
pki_security_domain_hostname=root-ca.cert-lab.local
pki_security_domain_https_port=8443
pki_security_domain_name=CERT-LAB
pki_security_domain_user=admin
pki_security_domain_password=RedHat123

# Use existing IoT CA instance
pki_instance_name=pki-iot-ca
pki_hostname=iot-ca.cert-lab.local

[EST]
# EST subsystem configuration
# EST will use the IoT CA for certificate enrollment

# EST authentication method: cert (client certificate) or basic (HTTP basic auth)
pki_est_realm=EST Realm

# CA connector - points to IoT CA
pki_est_ca_url=https://iot-ca.cert-lab.local:8443

# Certificate profile to use for EST enrollment
pki_est_profile=estServerCert

# EST backend authentication
pki_est_backend_url=https://iot-ca.cert-lab.local:8443
pki_est_backend_nickname=subsystemCert cert-pki-iot-ca
