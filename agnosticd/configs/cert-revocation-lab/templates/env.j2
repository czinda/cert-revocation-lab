# Certificate Revocation Lab - Environment Configuration
# Generated by AgnosticD for deployment {{ guid | default('unknown') }}
# {{ ansible_date_time.iso8601 | default('') }}

COMPOSE_PROJECT_NAME=cert-revocation-lab

# =============================================================================
# CREDENTIALS
# =============================================================================

# Admin password for all services (FreeIPA, AWX, PKI)
ADMIN_PASSWORD={{ cert_lab_admin_password }}

# Database passwords
DB_PASSWORD={{ cert_lab_db_password }}

# Directory Server password
DS_PASSWORD={{ cert_lab_ds_password }}

# PKI passwords
PKI_ADMIN_PASSWORD={{ cert_lab_pki_admin_password }}
PKI_CLIENT_PKCS12_PASSWORD={{ cert_lab_pki_client_pkcs12_password }}
PKI_BACKUP_PASSWORD={{ cert_lab_pki_backup_password }}
PKI_TOKEN_PASSWORD={{ cert_lab_pki_token_password }}

# AWX secret key
AWX_SECRET_KEY={{ cert_lab_awx_secret_key }}

# Jupyter token
JUPYTER_TOKEN={{ cert_lab_jupyter_token }}

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Container network subnet
LAB_SUBNET=172.20.0.0/16
LAB_GATEWAY=172.20.0.1

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

LAB_DOMAIN={{ cert_lab_domain }}
IPA_REALM={{ cert_lab_ipa_realm }}
SECURITY_DOMAIN_NAME={{ cert_lab_security_domain }}

# =============================================================================
# PKI CONFIGURATION
# =============================================================================

# Certificate subject DNs
ROOT_CA_SUBJECT=CN=Root CA,O=Cert-Lab,C=US
INTERMEDIATE_CA_SUBJECT=CN=Intermediate CA,O=Cert-Lab,C=US
IOT_CA_SUBJECT=CN=IoT Sub-CA,O=Cert-Lab,C=US
FREEIPA_CA_SUBJECT=CN=FreeIPA CA,O=Cert-Lab,C=US

# Key configuration
CA_KEY_ALGORITHM=SHA512withRSA
CA_KEY_SIZE=4096
CA_KEY_TYPE=rsa

# =============================================================================
# SERVICE VERSIONS
# =============================================================================

# Using defaults (latest) for all services
# Hummingbird images only publish 'latest' tags

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================

KAFKA_TOPIC_SECURITY=security-events
KAFKA_CONSUMER_GROUP=eda-security-processor

# =============================================================================
# EDA SSH CONFIGURATION
# =============================================================================

# Host IP from container perspective
LAB_HOST_IP=host.containers.internal

# Lab host username
LAB_HOST_USER={{ student_name }}

# Path to the lab directory on the host
LAB_ROOT_DIR={{ cert_lab_deploy_dir }}
